<!DOCTYPE html>
<!-- saved from url=(0055)https://ding1211.github.io/samples/lookbig/lookbig.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>Document</title>
<style>
		#small-pic{
			width: 200px; 
			height: 200px; 
			border: 1px solid gray; 
			padding: 5px; 
			position: relative;
		}
		#small-pic img{
			width: 200px; 
			height: 200px; 
		}
		#big-pic{
			width: 400px; 
			height: 400px; 
			border: 1px solid gray; 
			overflow: hidden; 
			position: absolute; 
			left: 230px; 
			top: 8px; 
			display: none; 
		}
		#float{
			/*display: block;*/
			width: 50px; 
			height: 50px; 
			border: 1px solid #ccc; 
			background: #000;
			opacity: 0.3; 
			filter: alpha(opacity=30); 
			position: absolute; 
			left: 5px; 
			top: 5px; 
			display: none;
		}
		/*#mark{display: block;width: 200px;height: 200px;opacity: 0; filter: alpha(opacity=0); position: absolute; left: 5px; top: 5px; z-index: 1;}*/
		#big-img{
			position: absolute;
		}
	</style>
</head>
<body>
	<div id="container">
		<div id="small-pic">
			<!-- <span id="mark"></span> -->
			<span id="float" style="display: none; left: 155px; top: 44px;"></span>
			<img src="img/small.jpg" alt="">
		</div>
		<div id="big-pic" style="display: none;">
			<img src="img/big.jpg" alt="" id="big-img" style="left: -385.563px; top: -109.45px;">
		</div>
	</div>

<script>
	var oFloat = document.getElementById('float');
	var oBig = document.getElementById('big-pic');
	var oSmall = document.getElementById('small-pic');
	var oBimg = document.getElementById('big-img');
	oSmall.onmouseover = function(e){
		e = e ||window.event;
		// alert("fdfs");
		oFloat.style.display = 'block';
		oBig.style.display = 'block';
		// oFloat.style.left =e.clientX - oSmall.offsetLeft -25+'px';
		// oFloat.style.top = e.clientY - oSmall.offsetTop -25+ 'px';
		// if(oFloat.offsetLeft > e.clientX - oSmall.offsetLeft){
		// 	oFloat.style.display = 'none';
		// }
	};
	oSmall.onmousemove = function(e){
		e = e || window.event;
		var iDisY = e.clientY - oSmall.offsetTop - oFloat.offsetHeight/2;
		var iDisX = e.clientX - oSmall.offsetLeft - oFloat.offsetWidth/2;
		oFloat.style.left = iDisX + 'px';
		oFloat.style.top = iDisY + 'px';
		if(iDisX >oSmall.offsetWidth - oFloat.offsetWidth-5){
			iDisX = oSmall.offsetWidth - oFloat.offsetWidth -5;
		}if(iDisX<5){
			iDisX = 5 ;
		}if(iDisY<5){
			iDisY = 5 ;
		}if(iDisY>oSmall.offsetHeight - oFloat.offsetHeight-5){
			iDisY = oSmall.offsetHeight - oFloat.offsetHeight -5;
		}
		oFloat.style.left = iDisX + 'px';
		oFloat.style.top = iDisY + 'px';
		var a = iDisX / (oSmall.offsetWidth - oFloat.offsetWidth); 
		var b = iDisY / (oSmall.offsetHeight - oFloat.offsetHeight);
		oBimg.style.left = -(oBimg.offsetWidth - oBig.offsetWidth )* a + 'px';
		oBimg.style.top = -(oBimg.offsetHeight - oBig.offsetHeight)* b + 'px';
	}
	oSmall.onmouseout = function(e){
		e=e||window.event;
		oFloat.style.display = 'none';
		oBig.style.display = 'none';
	}
</script>
</body></html>